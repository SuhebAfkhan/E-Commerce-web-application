<!-- 
  <div class="row row-cols-1 row-cols-md-6 g-4">
    @for(data of apiData;track data)
      {
        <div class="col">
          <div class="card">
            <img [src]="data.productImageUrl" class="card-img-top" height="200" width="200">
            <div class="card-body">
              <h5 class="card-title">{{data.productName}}</h5>
              <p class="card-text">{{data.productDescription}}</p>
              <button type="button" class="btn btn-secondary">{{data.productPrice}}</button>
              
            </div>
          </div>
        </div>
      }
    </div>
     -->
     <div class="row">
      <div [ngClass]="isSidePanelVisible ? 'col-8' : 'col-12'" >
          <div class="card">
              <div class="card-header bg-primary">
                  <div class="row">
                      <div class="col-6">
                          Product List
                      </div>
                      <div class="col-6 text-end">
                          <button class="btn btn-sm btn-success" (click)="openSidePanel()">New</button>
                      </div>
                  </div>
              </div>
              <div class="card-body">
                  <div class="row">
                      <!-- <div class="col-3 pt-2" *ngFor="let data of apiData">
                          <div class="card">
                              <img class="card-img-top" [src]="data.productImageUrl" height="200" width="200" alt="Card image">
                              <div class="card-body">
                                <h4 class="card-title">{{data.productShortName}}</h4>
                                <a class="btn btn-primary" (click)="onEdit(data)">Edit</a>
                                <a   class="btn btn-danger mx-2">Delete</a>
                              </div>
                            </div>
                      </div> -->

                      <div class="row row-cols-1 row-cols-md-6 g-4">
                        @for(data of apiData;track data)
                          {
                            <div class="col">
                              <div class="card">
                                <img [src]="data.productImageUrl" class="card-img-top" height="200" width="200">
                                <div class="card-body">
                                  <h5 class="card-title" title="productName">{{data.productName}}</h5>
                                  <h6 class="card-title" title="productPrice">Rs.{{data.productPrice}}</h6>
                                  <a class="btn btn-primary" (click)="onEdit(data)">Edit</a>
                                 <a class="btn btn-danger mx-2" (click)="onDelete(data)">Delete</a>
                                </div>
                              </div>
                            </div>
                          }
                        </div>
                      
                  </div>
              </div>
          </div>
      </div>
      <div class="col-4" *ngIf="isSidePanelVisible">
          <div class="card">
              <div class="card-header bg-primary">
                  <div class="row">
                      <div class="col-6">
                         New Product 
                      </div>
                      <div class="col-6  text-end">
                          <button class="btn btn-sm btn-success" (click)="closeSidePanel()">Close</button>
                      </div>
                  </div>
              </div>
              <!-- <div class="card-body">
                  <div class="row">
                      <div class="col-6">
                          <label for="">SKU</label>
                          <input type="text" [(ngModel)]="productObj.productSku" class="form-control" title="SKU">
                      </div>
                      <div class="col-6">
                          <label for="" >Name</label>
                          <input type="text" [(ngModel)]="productObj.productName" class="form-control" title="Product Name" pattern="[a-zA-Z ]+" title="Please enter text only." required>
                      </div>
                  </div>
                  <div class="row">
                      <div class="col-6">
                          <label for="" >Short Name</label>
                          <input type="text" [(ngModel)]="productObj.productShortName" class="form-control" title="Short Product Name">
                      </div>
                      <div class="col-6">
                          <label for="">Price</label>
                          <input type="text" [(ngModel)]="productObj.productPrice" class="form-control" title="Product Price" pattern="[0-9]+" title="Please enter a valid number." required>
                      </div>
                  </div>
                  <div class="row">
                    <div class="col-6">
                      <label for="">Category</label>
                      <select [(ngModel)]="productObj.categoryId" class="form-select">
                      @for(data of apiCategory;track data ;)
                      {
                        <option [value]="data.categoryId"> {{data.categoryName}}</option>
                      }  
                      </select>
                    </div> 
                    <div class="col-6">
                          <label for="">Delivery Time Span</label>
                          <input type="text" [(ngModel)]="productObj.deliveryTimeSpan" class="form-control" title="Delivery Time">
                    </div>
                  </div>
                  <div class="row">
                      <div class="col-12">
                          <label for="">Image Url</label>
                          <input type="text" [(ngModel)]="productObj.productImageUrl" class="form-control" title="Image">
                      </div> 
                  </div>
                  <div class="row">
                      <div class="col-12">
                          <label for="">Product Description</label>
                          <textarea rows="4" class="form-control" [(ngModel)]="productObj.productDescription" title="Write Description"></textarea>
                      </div> 
                  </div>
                  <div class="row pt-2">
                      <div class="col-6 text-center">
                         <button class="btn btn-success">Reset</button>
                      </div>
                      <div class="col-6 text-center">
                          <button class="btn btn-success" *ngIf="productObj.productId == 0" (click)="onSave()" >Create Product</button>
                          <button class="btn btn-primary" *ngIf="productObj.productId !==0" (click)="onUpdate()">Update Product</button>
                      </div>
                  </div> -->
                  <div class="card-body">
                    <div class="row">
                        <div class="col-6">
                            <label for="">SKU</label>
                            <input type="text" [(ngModel)]="productObj.productSku" class="form-control" title="SKU" required>
                            <div *ngIf="!productObj.productSku" class="text-danger">SKU is required</div>
                        </div>
                        <div class="col-6">
                            <label for="">Name</label>
                            <input type="text" [(ngModel)]="productObj.productName" class="form-control" title="Product Name" pattern="[a-zA-Z ]+" title="Please enter text only." required>
                            <div *ngIf="!productObj.productName" class="text-danger">Name is required</div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-6">
                            <label for="">Short Name</label>
                            <input type="text" [(ngModel)]="productObj.productShortName" class="form-control" title="Short Product Name">
                        </div>
                        <div class="col-6">
                            <label for="">Price</label>
                            <input type="text" [(ngModel)]="productObj.productPrice" class="form-control" title="Product Price" pattern="[0-9]+" title="Please enter a valid number." required>
                            <div *ngIf="!productObj.productPrice" class="text-danger">Price is required</div>
                        </div>
                    </div>
                    <div class="row">
                      <div class="row">
                        <div class="col-6">
                          <label for="">Category</label>
                          <select [(ngModel)]="productObj.categoryId" class="form-select">
                          @for(data of apiCategory;track data ;)
                          {
                            <option [value]="data.categoryId"> {{data.categoryName}}</option>
                          }  
                          </select>
                        </div> 
                        <div class="col-6">
                            <label for="">Delivery Time Span</label>
                            <input type="text" [(ngModel)]="productObj.deliveryTimeSpan" class="form-control" title="Delivery Time">
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-12">
                            <label for="">Image Url</label>
                            <input type="text" [(ngModel)]="productObj.productImageUrl" class="form-control" title="Image">
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-12">
                            <label for="">Product Description</label>
                            <textarea rows="4" class="form-control" [(ngModel)]="productObj.productDescription" title="Write Description"></textarea>
                        </div>
                    </div>
                    <div class="row pt-2">
                        <div class="col-6 text-center">
                            <button class="btn btn-success">Reset</button>
                        </div>
                        <div class="col-6 text-center">
                            <button class="btn btn-success"  *ngIf="productObj.productId == 0" (click)="onSave()">Create Product</button>
                            <button class="btn btn-primary"  *ngIf="productObj.productId !==0" (click)="onUpdate()">Update Product</button>
                        </div>
                    </div>
                </div>             
              </div>
          </div>
      </div>
  </div>